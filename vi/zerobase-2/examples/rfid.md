# Äiá»u khiá»ƒn LED báº±ng tháº» RFID vá»›i Zerobase 2

![rfid-circuit](https://cdn.chipstack.vn/zerobase2/rfid/rfid-circuit.jpg)

## Tá»•ng quan

?> BÃ i hÆ°á»›ng dáº«n nÃ y sáº½ giÃºp báº¡n sá»­ dá»¥ng module RFID RC522 káº¿t há»£p vá»›i Zerobase 2 Ä‘á»ƒ Ä‘iá»u khiá»ƒn LED. Báº¡n sáº½ há»c cÃ¡ch sá»­ dá»¥ng hai tháº» RFID khÃ¡c nhau: má»™t tháº» Ä‘á»ƒ báº­t LED vÃ  má»™t tháº» khÃ¡c Ä‘á»ƒ táº¯t LED.

## Chuáº©n bá»‹

| Linh kiá»‡n |  Link mua |
| --- | --- |
| Board Zerobase 2 |[Mua ngay](https://chipstack.vn/san-pham/zerobase-2) |
| Breadboard |[Mua ngay](https://chipstack.vn/san-pham/breadboard-830-lo/) |
| Äiá»‡n trá»Ÿ 330Î© |[Mua ngay](https://chipstack.vn/san-pham/dien-tro-1-4w-1/) |
| LED |[Mua ngay](https://chipstack.vn/san-pham/led-5mm-vo-mau/) |
| DÃ¢y jumper Äá»±c â€“ Äá»±c | [Mua ngay](https://chipstack.vn/san-pham/day-jumper-duc-duc/) |
| DÃ¢y USB Type C |[Mua ngay](https://chipstack.vn/san-pham/day-usb-type-c-1m/) |
| Module RFID RC522 13.56Mhz | [Mua ngay](https://chipstack.vn/san-pham/module-rfid-rc522/) |
| Tháº» tá»« RFID 13.56MHz | [Mua ngay](https://chipstack.vn/san-pham/the-tu-rfid-13-56mhz/) |
| Tháº» tá»« mÃ³c khoÃ¡ RFID 13.56MHz | [Mua ngay](https://chipstack.vn/san-pham/the-tu-rfid-13-56mhz-moc-khoa/) |

<br>

<div align="center">
    <img src="https://cdn.chipstack.vn/default/zerobase2-overview.png" alt="zerobase">
    <p><em>Board Zerobase 2</em></p>
</div>

<br>

<div align="center">
    <img src="https://cdn.chipstack.vn/default/breadboard.png" alt="breadboard">
    <p><em>Breadboard</em></p>
</div>

<br>

<div align="center">
    <img src="https://cdn.chipstack.vn/default/dien-tro-330-ohm.png" alt="dien-tro-330-ohm">
    <p><em>Äiá»‡n trá»Ÿ 330Î©</em></p>
</div>

<br>

<div align="center">
    <img src="https://cdn.chipstack.vn/default/led-do.png" alt="led-do">
    <p><em>LED</em></p>
</div>

<br>

<div align="center">
    <img src="https://cdn.chipstack.vn/default/jumper-wire.png" alt="jumper-wire">
    <p><em>DÃ¢y ná»‘i</em></p>
</div>

<div align="center">
    <img src="https://cdn.chipstack.vn/default/usb-type-c.jpg" alt="button-lcd-usb-type-c">
    <p><em>DÃ¢y USB Type C</em></p>
</div>

<br>

<div align="center">
    <img src="https://cdn.chipstack.vn/default/zerobase2-overview.png" alt="zerobase2-overview">
    <p><em>Board Zerobase 2</em></p>
</div>

<br>

<div align="center">
    <img src="https://cdn.chipstack.vn/zerobase2/rfid/rfid-rc522.jpg" alt="rfid-rc522">
    <p><em>Module RFID RC522</em></p>
</div>

<br>

<div align="center">
    <img src="https://cdn.chipstack.vn/zerobase2/rfid/rfid-card.jpg" alt="rfid-card">
    <p><em>Tháº» tá»« RFID 13.56MHz</em></p>
</div>

<div align="center">
    <img src="https://cdn.chipstack.vn/zerobase2/rfid/rfid-keychain.jpg" alt="rfid-keychain">
    <p><em>Tháº» tá»« mÃ³c khoÃ¡ RFID 13.56MHz</em></p>
</div>

## NguyÃªn lÃ½ hoáº¡t Ä‘á»™ng

Module RFID RC522 sá»­ dá»¥ng cÃ´ng nghá»‡ RFID (Radio-Frequency Identification) Ä‘á»ƒ Ä‘á»c thÃ´ng tin tá»« cÃ¡c tháº» RFID. Má»—i tháº» RFID cÃ³ má»™t mÃ£ Ä‘á»‹nh danh duy nháº¥t (UID). Trong dá»± Ã¡n nÃ y, chÃºng ta sáº½ láº­p trÃ¬nh Zerobase 2 Ä‘á»ƒ:

1. Äá»c UID cá»§a tháº» RFID khi nÃ³ Ä‘Æ°á»£c Ä‘Æ°a Ä‘áº¿n gáº§n module Ä‘á»c.
2. So sÃ¡nh UID Ä‘á»c Ä‘Æ°á»£c vá»›i cÃ¡c mÃ£ Ä‘Ã£ Ä‘Æ°á»£c lÆ°u trá»¯ trong chÆ°Æ¡ng trÃ¬nh.
3. Báº­t LED khi phÃ¡t hiá»‡n tháº» "báº­t Ä‘Ã¨n".
4. Táº¯t LED khi phÃ¡t hiá»‡n tháº» "táº¯t Ä‘Ã¨n".

## SÆ¡ Ä‘á»“ káº¿t ná»‘i

![rfid-pins](https://cdn.chipstack.vn/zerobase2/rfid/rfid-pins.png)

| Module RFID RC522 | Zerobase 2 |
| --- | --- |
| 3.3V | 3V3 |
| RST | A0 |
| GND | GND |
| IRQ | KhÃ´ng káº¿t ná»‘i |
| MISO | D12 (MI) |
| MOSI | D11 (MO) |
| SCK | D13 (SCK) |
| SDA (SS) | D10 |

- ChÃ¢n anode (+) cá»§a LED â†’ D2 trÃªn Zerobase 2
- ChÃ¢n cathode (-) cá»§a LED â†’ Äiá»‡n trá»Ÿ 330Î© â†’ GND trÃªn Zerobase 2


![rfid-schematic](https://cdn.chipstack.vn/zerobase2/rfid/rfid-schematic.png)

![rfid-circuit](https://cdn.chipstack.vn/zerobase2/rfid/rfid-circuit.jpg)


## Code

```cpp
// ThÃªm thÆ° viá»‡n SPI Ä‘á»ƒ giao tiáº¿p vá»›i module RFID qua giao thá»©c SPI
#include <SPI.h>
// ThÃªm thÆ° viá»‡n MFRC522 Ä‘á»ƒ Ä‘iá»u khiá»ƒn module Ä‘á»c tháº» RFID RC522
#include <MFRC522.h>

// Äá»‹nh nghÄ©a chÃ¢n Reset cho module RFID RC522
#define RST_PIN A0
// Äá»‹nh nghÄ©a chÃ¢n SS (Slave Select) cho module RFID RC522
#define SS_PIN 10
// Äá»‹nh nghÄ©a chÃ¢n LED
#define LED_PIN D2

// Khai bÃ¡o máº£ng lÆ°u giÃ¡ trá»‹ UID cá»§a tháº» Ä‘á»c Ä‘Æ°á»£c, cÃ³ 4 byte
int UID[4], i;

// Khai bÃ¡o máº£ng ID1 vá»›i giÃ¡ trá»‹ UID cá»¥ thá»ƒ - tháº» Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ báº­t Ä‘Ã¨n
// LÆ°u Ã½: Thay giÃ¡ trá»‹ nÃ y báº±ng UID thá»±c cá»§a tháº» báº¡n muá»‘n sá»­ dá»¥ng Ä‘á»ƒ báº­t Ä‘Ã¨n
int ID1[4] = { 243, 248, 222, 41 };  //Tháº» má»Ÿ Ä‘Ã¨n
// Khai bÃ¡o máº£ng ID2 vá»›i giÃ¡ trá»‹ UID cá»¥ thá»ƒ - tháº» Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ táº¯t Ä‘Ã¨n
// LÆ°u Ã½: Thay giÃ¡ trá»‹ nÃ y báº±ng UID thá»±c cá»§a tháº» báº¡n muá»‘n sá»­ dá»¥ng Ä‘á»ƒ táº¯t Ä‘Ã¨n
int ID2[4] = { 225, 78, 243, 123 };  //Tháº» táº¯t Ä‘Ã¨n

// Khá»Ÿi táº¡o Ä‘á»‘i tÆ°á»£ng mfrc522 tá»« lá»›p MFRC522 vá»›i cÃ¡c tham sá»‘ SS_PIN vÃ  RST_PIN
MFRC522 mfrc522(SS_PIN, RST_PIN);

// HÃ m kiá»ƒm tra xem UID Ä‘á»c Ä‘Æ°á»£c cÃ³ khá»›p vá»›i ID Ä‘Æ°á»£c lÆ°u hay khÃ´ng
bool compareUID(int uid[], int id[]) {
  for (byte i = 0; i < 4; i++) {
    if (uid[i] != id[i]) {
      return false; // Náº¿u cÃ³ báº¥t ká»³ byte nÃ o khÃ´ng khá»›p, tráº£ vá» false
    }
  }
  return true; // Náº¿u táº¥t cáº£ cÃ¡c byte Ä‘á»u khá»›p, tráº£ vá» true
}

// HÃ m setup() - cháº¡y má»™t láº§n khi Arduino khá»Ÿi Ä‘á»™ng
void setup() {
  // Khá»Ÿi táº¡o giao tiáº¿p Serial vá»›i tá»‘c Ä‘á»™ baud 9600 Ä‘á»ƒ hiá»ƒn thá»‹ thÃ´ng tin
  Serial.begin(9600);
  while (!Serial) delay(10); // Chá» káº¿t ná»‘i Serial Ä‘Æ°á»£c thiáº¿t láº­p

  Serial.println("Há»‡ thá»‘ng Ä‘iá»u khiá»ƒn LED báº±ng tháº» RFID");
  Serial.println("---------------------------------------");

  // Cáº¥u hÃ¬nh chÃ¢n LED lÃ  OUTPUT Ä‘á»ƒ Ä‘iá»u khiá»ƒn Ä‘Ã¨n LED
  pinMode(LED_PIN, OUTPUT);
  // Táº¯t Ä‘Ã¨n LED khi khá»Ÿi Ä‘á»™ng (má»©c LOW)
  digitalWrite(LED_PIN, LOW);

  // Khá»Ÿi táº¡o giao tiáº¿p SPI
  SPI.begin();
  // Khá»Ÿi táº¡o module RFID RC522
  mfrc522.PCD_Init();
  
  Serial.println("ÄÃ£ khá»Ÿi táº¡o module RFID RC522");
  Serial.println("Vui lÃ²ng quÃ©t tháº» Ä‘á»ƒ Ä‘iá»u khiá»ƒn LED");
}

// HÃ m loop() - cháº¡y láº·p láº¡i liÃªn tá»¥c sau khi setup() hoÃ n thÃ nh
void loop() {
  // Kiá»ƒm tra xem cÃ³ tháº» má»›i xuáº¥t hiá»‡n hay khÃ´ng
  // Náº¿u khÃ´ng cÃ³ tháº» má»›i, thoÃ¡t khá»i vÃ²ng láº·p hiá»‡n táº¡i
  if (!mfrc522.PICC_IsNewCardPresent()) {
    return;
  }

  // Äá»c dá»¯ liá»‡u tá»« tháº»
  // Náº¿u khÃ´ng Ä‘á»c Ä‘Æ°á»£c, thoÃ¡t khá»i vÃ²ng láº·p hiá»‡n táº¡i
  if (!mfrc522.PICC_ReadCardSerial()) {
    return;
  }

  // In dÃ²ng chá»¯ "UID cá»§a tháº»: " ra Serial Monitor
  Serial.print("UID cá»§a tháº»: ");

  // VÃ²ng láº·p Ä‘á»ƒ Ä‘á»c vÃ  hiá»ƒn thá»‹ tá»«ng byte cá»§a UID tháº»
  for (byte i = 0; i < mfrc522.uid.size; i++) {
    // ThÃªm khoáº£ng tráº¯ng vÃ  sá»‘ 0 Ä‘á»©ng trÆ°á»›c náº¿u giÃ¡ trá»‹ byte nhá» hÆ¡n 0x10 (16)
    Serial.print(mfrc522.uid.uidByte[i] < 0x10 ? " 0" : " ");
    // LÆ°u giÃ¡ trá»‹ byte UID vÃ o máº£ng UID
    UID[i] = mfrc522.uid.uidByte[i];
    // In giÃ¡ trá»‹ byte ra Serial Monitor
    Serial.print(UID[i]);
  }

  // Xuá»‘ng dÃ²ng sau khi in xong UID
  Serial.println("   ");

  // So sÃ¡nh UID Ä‘á»c Ä‘Æ°á»£c vá»›i ID1 (tháº» má»Ÿ Ä‘Ã¨n)
  if (compareUID(UID, ID1)) {
    // Náº¿u trÃ¹ng vá»›i ID1, báº­t Ä‘Ã¨n LED
    digitalWrite(LED_PIN, HIGH);
    // In thÃ´ng bÃ¡o ra Serial Monitor
    Serial.println("Tháº» má»Ÿ Ä‘Ã¨n - ÄÃˆN ON");
  }
  // So sÃ¡nh UID Ä‘á»c Ä‘Æ°á»£c vá»›i ID2 (tháº» táº¯t Ä‘Ã¨n)
  else if (compareUID(UID, ID2)) {
    // Náº¿u trÃ¹ng vá»›i ID2, táº¯t Ä‘Ã¨n LED
    digitalWrite(LED_PIN, LOW);
    // In thÃ´ng bÃ¡o ra Serial Monitor
    Serial.println("Tháº» táº¯t Ä‘Ã¨n - ÄÃˆN OFF");
  }
  // TrÆ°á»ng há»£p UID khÃ´ng trÃ¹ng vá»›i ID1 vÃ  ID2
  else {
    // In thÃ´ng bÃ¡o ra Serial Monitor
    Serial.println("Sai tháº» - KhÃ´ng thá»±c hiá»‡n hÃ nh Ä‘á»™ng");
  }

  // Dá»«ng giao tiáº¿p vá»›i tháº» hiá»‡n táº¡i
  mfrc522.PICC_HaltA();
  // Dá»«ng mÃ£ hÃ³a Ä‘á»ƒ chuáº©n bá»‹ cho láº§n Ä‘á»c tháº» tiáº¿p theo
  mfrc522.PCD_StopCrypto1();
  
  // Chá» má»™t khoáº£ng thá»i gian ngáº¯n trÆ°á»›c khi Ä‘á»c tháº» tiáº¿p theo
  delay(1000);
}
```

### BiÃªn dá»‹ch

Nháº¥n vÃ o biá»ƒu tÆ°á»£ng Verify Ä‘á»ƒ biÃªn dá»‹ch code.

![verify-code](https://cdn.chipstack.vn/default/verify-code.png)

### Thá»±c hiá»‡n náº¡p code

Cuá»‘i cÃ¹ng báº¡n thá»±c hiá»‡n náº¡p code vÃ o board Zerobase 2. Náº¿u chÆ°a biáº¿t cÃ¡ch náº¡p code cho Zerobase 2, báº¡n cÃ³ thá»ƒ tham kháº£o [táº¡i Ä‘Ã¢y](https://zerobase.chipstack.vn/#/vi/zerobase-2/quickstart).

## Giáº£i thÃ­ch code

### 1. CÃ¡c thÆ° viá»‡n

```cpp
#include <SPI.h>
#include <MFRC522.h>
```

- **ThÆ° viá»‡n SPI**: Cung cáº¥p giao tiáº¿p SPI (Serial Peripheral Interface) Ä‘á»ƒ káº¿t ná»‘i vá»›i module RFID
- **ThÆ° viá»‡n MFRC522**: Chá»©a cÃ¡c hÃ m Ä‘á»ƒ Ä‘iá»u khiá»ƒn module Ä‘á»c tháº» RFID RC522

### 2. Äá»‹nh nghÄ©a chÃ¢n káº¿t ná»‘i

```cpp
#define RST_PIN A0
#define SS_PIN 10
#define LED_PIN D2
```

- **RST_PIN**: ChÃ¢n Reset káº¿t ná»‘i vá»›i module RFID, Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a lÃ  chÃ¢n A0
- **SS_PIN**: ChÃ¢n Slave Select káº¿t ná»‘i vá»›i module RFID, Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a lÃ  chÃ¢n 10
- **LED_PIN**: ChÃ¢n Ä‘iá»u khiá»ƒn LED, Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a lÃ  chÃ¢n D2

### 3. Khai bÃ¡o biáº¿n

```cpp
int UID[4], i;
int ID1[4] = { 243, 248, 222, 41 };  //Tháº» má»Ÿ Ä‘Ã¨n
int ID2[4] = { 225, 78, 243, 123 };  //Tháº» táº¯t Ä‘Ã¨n
```

- **UID[4]**: Máº£ng lÆ°u UID cá»§a tháº» Ä‘ang quÃ©t (4 byte)
- **ID1[4]**: Máº£ng lÆ°u UID cá»§a tháº» báº­t Ä‘Ã¨n (cáº§n thay tháº¿ báº±ng UID cá»§a tháº» thá»±c táº¿)
- **ID2[4]**: Máº£ng lÆ°u UID cá»§a tháº» táº¯t Ä‘Ã¨n (cáº§n thay tháº¿ báº±ng UID cá»§a tháº» thá»±c táº¿)

### 4. Khá»Ÿi táº¡o Ä‘á»‘i tÆ°á»£ng MFRC522

```cpp
MFRC522 mfrc522(SS_PIN, RST_PIN);
```

- Táº¡o Ä‘á»‘i tÆ°á»£ng `mfrc522` tá»« lá»›p MFRC522 vá»›i tham sá»‘ lÃ  cÃ¡c chÃ¢n káº¿t ná»‘i SS_PIN vÃ  RST_PIN

### 5. HÃ m compareUID()

```cpp
bool compareUID(int uid[], int id[]) {
  for (byte i = 0; i < 4; i++) {
    if (uid[i] != id[i]) {
      return false;
    }
  }
  return true;
}
```

- **Chá»©c nÄƒng**: So sÃ¡nh hai máº£ng UID Ä‘á»ƒ xÃ¡c Ä‘á»‹nh tháº»
- **Tham sá»‘**:
  - `uid[]`: Máº£ng UID cá»§a tháº» Ä‘ang quÃ©t
  - `id[]`: Máº£ng ID Ä‘Ã£ lÆ°u trá»¯ (ID1 hoáº·c ID2)
- **Hoáº¡t Ä‘á»™ng**: So sÃ¡nh tá»«ng byte cá»§a hai máº£ng
- **GiÃ¡ trá»‹ tráº£ vá»**: 
  - `true` náº¿u táº¥t cáº£ 4 byte Ä‘á»u giá»‘ng nhau
  - `false` náº¿u cÃ³ Ã­t nháº¥t má»™t byte khÃ¡c nhau

### 6. HÃ m setup()

```cpp
void setup() {
  // Khá»Ÿi táº¡o Serial
  Serial.begin(9600);
  while (!Serial) delay(10);
  
  // ThÃ´ng bÃ¡o khá»Ÿi Ä‘á»™ng
  Serial.println("Há»‡ thá»‘ng Ä‘iá»u khiá»ƒn LED báº±ng tháº» RFID");
  
  // Cáº¥u hÃ¬nh LED
  pinMode(LED_PIN, OUTPUT);
  digitalWrite(LED_PIN, LOW);
  
  // Khá»Ÿi táº¡o SPI vÃ  module RFID
  SPI.begin();
  mfrc522.PCD_Init();
}
```

- **Chá»©c nÄƒng**: Thiáº¿t láº­p cÃ¡c cáº¥u hÃ¬nh ban Ä‘áº§u cho há»‡ thá»‘ng
- **CÃ¡c bÆ°á»›c thá»±c hiá»‡n**:
  1. Khá»Ÿi táº¡o giao tiáº¿p Serial vá»›i tá»‘c Ä‘á»™ 9600 baud
  2. Chá» cho káº¿t ná»‘i Serial Ä‘Æ°á»£c thiáº¿t láº­p (quan trá»ng vá»›i cÃ¡c board sá»­ dá»¥ng USB)
  3. Hiá»ƒn thá»‹ thÃ´ng bÃ¡o khá»Ÿi Ä‘á»™ng há»‡ thá»‘ng
  4. Cáº¥u hÃ¬nh chÃ¢n LED lÃ  OUTPUT vÃ  máº·c Ä‘á»‹nh táº¯t LED
  5. Khá»Ÿi táº¡o giao tiáº¿p SPI báº±ng hÃ m `SPI.begin()`
  6. Khá»Ÿi táº¡o module RFID báº±ng hÃ m `mfrc522.PCD_Init()`

### 7. HÃ m loop()

```cpp
void loop() {
  // CÃ¡c lá»‡nh trong hÃ m loop()
}
```

- **Chá»©c nÄƒng**: Thá»±c hiá»‡n vÃ²ng láº·p chÃ­nh cá»§a chÆ°Æ¡ng trÃ¬nh, liÃªn tá»¥c kiá»ƒm tra tháº» RFID
- **Hoáº¡t Ä‘á»™ng**: Bao gá»“m cÃ¡c pháº§n sau (Ä‘Æ°á»£c giáº£i thÃ­ch chi tiáº¿t bÃªn dÆ°á»›i)

### 8. HÃ m PICC_IsNewCardPresent()

```cpp
if (!mfrc522.PICC_IsNewCardPresent()) {
  return;
}
```

- **Chá»©c nÄƒng**: Kiá»ƒm tra xem cÃ³ tháº» RFID má»›i trong vÃ¹ng Ä‘á»c hay khÃ´ng
- **GiÃ¡ trá»‹ tráº£ vá»**: 
  - `true` náº¿u phÃ¡t hiá»‡n tháº» má»›i
  - `false` náº¿u khÃ´ng cÃ³ tháº» má»›i
- **Hoáº¡t Ä‘á»™ng**: Náº¿u khÃ´ng cÃ³ tháº» má»›i, thoÃ¡t khá»i vÃ²ng láº·p hiá»‡n táº¡i vÃ  quay láº¡i Ä‘áº§u hÃ m loop()

### 9. HÃ m PICC_ReadCardSerial()

```cpp
if (!mfrc522.PICC_ReadCardSerial()) {
  return;
}
```

- **Chá»©c nÄƒng**: Äá»c dá»¯ liá»‡u tá»« tháº» RFID Ä‘Ã£ Ä‘Æ°á»£c phÃ¡t hiá»‡n
- **GiÃ¡ trá»‹ tráº£ vá»**: 
  - `true` náº¿u Ä‘á»c thÃ nh cÃ´ng
  - `false` náº¿u cÃ³ lá»—i khi Ä‘á»c
- **Hoáº¡t Ä‘á»™ng**: Náº¿u khÃ´ng Ä‘á»c Ä‘Æ°á»£c dá»¯ liá»‡u, thoÃ¡t khá»i vÃ²ng láº·p hiá»‡n táº¡i

### 10. Äá»c vÃ  lÆ°u UID

```cpp
Serial.print("UID cá»§a tháº»: ");

for (byte i = 0; i < mfrc522.uid.size; i++) {
  Serial.print(mfrc522.uid.uidByte[i] < 0x10 ? " 0" : " ");
  UID[i] = mfrc522.uid.uidByte[i];
  Serial.print(UID[i]);
}

Serial.println("   ");
```

- **Chá»©c nÄƒng**: Äá»c tá»«ng byte cá»§a UID tá»« tháº» vÃ  lÆ°u vÃ o máº£ng UID
- **Hoáº¡t Ä‘á»™ng**:
  1. In ra thÃ´ng bÃ¡o "UID cá»§a tháº»: "
  2. Láº·p qua má»—i byte trong UID cá»§a tháº»
  3. Äá»‹nh dáº¡ng xuáº¥t Ä‘á»ƒ cÃ³ khoáº£ng tráº¯ng vÃ  sá»‘ 0 Ä‘á»©ng trÆ°á»›c náº¿u giÃ¡ trá»‹ byte < 16
  4. LÆ°u giÃ¡ trá»‹ byte vÃ o máº£ng UID
  5. In giÃ¡ trá»‹ byte ra Serial Monitor

### 11. HÃ m digitalWrite() - Äiá»u khiá»ƒn LED

```cpp
if (compareUID(UID, ID1)) {
  digitalWrite(LED_PIN, HIGH);
  Serial.println("Tháº» má»Ÿ Ä‘Ã¨n - ÄÃˆN ON");
}
else if (compareUID(UID, ID2)) {
  digitalWrite(LED_PIN, LOW);
  Serial.println("Tháº» táº¯t Ä‘Ã¨n - ÄÃˆN OFF");
}
else {
  Serial.println("Sai tháº» - KhÃ´ng thá»±c hiá»‡n hÃ nh Ä‘á»™ng");
}
```
- **Chá»©c nÄƒng**: Äiá»u khiá»ƒn tráº¡ng thÃ¡i LED dá»±a trÃªn UID cá»§a tháº»
- **Hoáº¡t Ä‘á»™ng**:
  - Kiá»ƒm tra xem UID cÃ³ trÃ¹ng vá»›i ID1 (tháº» báº­t Ä‘Ã¨n) khÃ´ng:
     - Náº¿u trÃ¹ng: Báº­t LED báº±ng `digitalWrite(LED_PIN, HIGH)` vÃ  hiá»ƒn thá»‹ thÃ´ng bÃ¡o
  - Kiá»ƒm tra xem UID cÃ³ trÃ¹ng vá»›i ID2 (tháº» táº¯t Ä‘Ã¨n) khÃ´ng:
     - Náº¿u trÃ¹ng: Táº¯t LED báº±ng `digitalWrite(LED_PIN, LOW)` vÃ  hiá»ƒn thá»‹ thÃ´ng bÃ¡o
  - Náº¿u khÃ´ng trÃ¹ng vá»›i cáº£ ID1 vÃ  ID2:
     - Hiá»ƒn thá»‹ thÃ´ng bÃ¡o "Sai tháº»"

### 12. CÃ¡c hÃ m káº¿t thÃºc quÃ©t tháº»

```cpp
mfrc522.PICC_HaltA();
mfrc522.PCD_StopCrypto1();
  
delay(1000);
```

- **HÃ m PICC_HaltA()**: Dá»«ng giao tiáº¿p vá»›i tháº» hiá»‡n táº¡i
- **HÃ m PCD_StopCrypto1()**: Táº¯t mÃ£ hÃ³a Ä‘á»ƒ chuáº©n bá»‹ cho láº§n Ä‘á»c tháº» tiáº¿p theo
- **HÃ m delay(1000)**: Táº¡m dá»«ng 1 giÃ¢y (1000ms) trÆ°á»›c khi quÃ©t tháº» tiáº¿p theo

## TÃ¬m UID cá»§a tháº» RFID

Khi báº¡n má»›i sá»­ dá»¥ng tháº» RFID, báº¡n cáº§n biáº¿t UID cá»§a tháº» Ä‘á»ƒ cÃ³ thá»ƒ sá»­ dá»¥ng nÃ³ trong chÆ°Æ¡ng trÃ¬nh. Äá»ƒ lÃ m Ä‘iá»u nÃ y, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng chÆ°Æ¡ng trÃ¬nh Ä‘Æ¡n giáº£n sau Ä‘á»ƒ Ä‘á»c vÃ  hiá»ƒn thá»‹ UID cá»§a tháº»:

```cpp
#include <SPI.h>
#include <MFRC522.h>

#define RST_PIN A0
#define SS_PIN 10

MFRC522 mfrc522(SS_PIN, RST_PIN);

void setup() {
  Serial.begin(9600);
  while (!Serial) delay(10);
  
  SPI.begin();
  mfrc522.PCD_Init();
  
  Serial.println("ChÆ°Æ¡ng trÃ¬nh Ä‘á»c UID tháº» RFID");
  Serial.println("QuÃ©t tháº» Ä‘á»ƒ hiá»ƒn thá»‹ UID");
}

void loop() {
  if (!mfrc522.PICC_IsNewCardPresent()) {
    return;
  }

  if (!mfrc522.PICC_ReadCardSerial()) {
    return;
  }

  Serial.print("UID cá»§a tháº»: { ");
  
  for (byte i = 0; i < mfrc522.uid.size; i++) {
    Serial.print(mfrc522.uid.uidByte[i]);
    if (i < mfrc522.uid.size - 1) {
      Serial.print(", ");
    }
  }
  
  Serial.println(" }");
  
  mfrc522.PICC_HaltA();
  mfrc522.PCD_StopCrypto1();
  
  delay(1000);
}
```

## Káº¿t quáº£

?> Khi náº¡p code thÃ nh cÃ´ng vÃ  quÃ©t tháº» RFID, báº¡n sáº½ tháº¥y LED báº­t khi quÃ©t tháº» "báº­t Ä‘Ã¨n" vÃ  táº¯t khi quÃ©t tháº» "táº¯t Ä‘Ã¨n". ThÃ´ng tin vá» UID vÃ  tráº¡ng thÃ¡i LED sáº½ Ä‘Æ°á»£c hiá»ƒn thá»‹ trÃªn Serial Monitor.

<div align="center">
    <img src="https://cdn.chipstack.vn/zerobase2/rfid/rfid-result.gif" alt="rfid-led-control-result">
    <p><em>Káº¿t quáº£ khi quÃ©t tháº» RFID</em></p>
</div>

## Káº¿t luáº­n vÃ  hÆ°á»›ng phÃ¡t triá»ƒn

BÃ i hÆ°á»›ng dáº«n nÃ y Ä‘Ã£ giÃºp báº¡n táº¡o má»™t há»‡ thá»‘ng Ä‘iá»u khiá»ƒn LED Ä‘Æ¡n giáº£n báº±ng tháº» RFID sá»­ dá»¥ng board Zerobase 2. Dá»±a trÃªn kiáº¿n thá»©c nÃ y, báº¡n cÃ³ thá»ƒ phÃ¡t triá»ƒn cÃ¡c á»©ng dá»¥ng phá»©c táº¡p hÆ¡n nhÆ°:

1. **Há»‡ thá»‘ng khÃ³a Ä‘iá»‡n tá»­**: Sá»­ dá»¥ng relay Ä‘á»ƒ Ä‘iá»u khiá»ƒn khÃ³a Ä‘iá»‡n tá»«.
2. **Há»‡ thá»‘ng Ä‘iá»ƒm danh**: LÆ°u trá»¯ vÃ  theo dÃµi thá»i gian quÃ©t tháº» cá»§a nhiá»u ngÆ°á»i dÃ¹ng.
3. **Há»‡ thá»‘ng Ä‘iá»u khiá»ƒn thiáº¿t bá»‹**: Äiá»u khiá»ƒn nhiá»u thiáº¿t bá»‹ khÃ¡c nhau dá»±a trÃªn tháº» RFID Ä‘Æ°á»£c quÃ©t.
4. **Há»‡ thá»‘ng thanh toÃ¡n**: Táº¡o má»™t há»‡ thá»‘ng thanh toÃ¡n Ä‘Æ¡n giáº£n báº±ng cÃ¡ch liÃªn káº¿t tháº» RFID vá»›i tÃ i khoáº£n ngÆ°á»i dÃ¹ng.
5. **Há»‡ thá»‘ng kiá»ƒm soÃ¡t truy cáº­p**: Chá»‰ cho phÃ©p ngÆ°á»i dÃ¹ng Ä‘Æ°á»£c á»§y quyá»n truy cáº­p vÃ o cÃ¡c khu vá»±c hoáº·c chá»©c nÄƒng nháº¥t Ä‘á»‹nh.

**ChÃºc báº¡n thÃ nh cÃ´ng!**

[ğŸ  TRá» Vá»€ TRANG Tá»”NG Há»¢P CÃC VÃ Dá»¤](vi/zerobase-2/examples.md)