<br>
<br>
<br>

# Äiá»u khiá»ƒn Ä‘á»™ng cÆ¡ Servo báº±ng biáº¿n trá»Ÿ

![potentiometer-servo-circuit](https://cdn.chipstack.vn/zerobase/servo/potentiometer-servo-circuit.jpg)

## Tá»•ng quan

?> BÃ i viáº¿t nÃ y hÆ°á»›ng dáº«n sá»­ dá»¥ng biáº¿n trá»Ÿ Ä‘á»ƒ Ä‘iá»u khiá»ƒn Ä‘á»™ng cÆ¡ Servo vá»›i Zerobase.

## Chuáº©n bá»‹

| Linh kiá»‡n | Link mua |
|--- | --- |
| Board Zerobase |[Mua ngay](https://chipstack.vn/san-pham/zerobase/) |
| Breadboard |[Mua ngay](https://chipstack.vn/san-pham/breadboard-830-lo/) |
| DÃ¢y jumper Äá»±c â€“ Äá»±c | [Mua ngay](https://chipstack.vn/san-pham/day-jumper-duc-duc/) |
| DÃ¢y USB Type C |[Mua ngay](https://chipstack.vn/san-pham/day-usb-type-c-1m/) |
| Module nguá»“n cho Breadboard MB102 830 | [Mua ngay](https://chipstack.vn/san-pham/module-nguon-cho-breadboard-mb102-830/) |
| Nguá»“n AC-DC Ä‘iá»u chá»‰nh Ä‘iá»‡n Ã¡p 3-12V 3A 36W | [Mua ngay](https://chipstack.vn/san-pham/nguon-ac-dc-dieu-chinh-dien-ap-3-12v-3a-36w/) |
| Äá»™ng cÆ¡ Servo SG90 180 Ä‘á»™ | [Mua ngay](https://chipstack.vn/san-pham/dong-co-servo-sg90-180-do/) |
| Biáº¿n trá»Ÿ 10kÎ© | [Mua ngay](https://chipstack.vn/san-pham/bien-tro-wh148-3-chan-truc-15mm/) |

<div align="center">
    <img src="https://cdn.chipstack.vn/default/zerobase-overview.png" alt="zerobase">
    <p><em>Board Zerobase</em></p>
</div>

<div align="center">
    <img src="https://cdn.chipstack.vn/default/breadboard.png" alt="breadboard">
    <p><em>Breadboard</em></p>
</div>

<div align="center">
    <img src="https://cdn.chipstack.vn/default/jumper-wire.png" alt="jumper-wire">
    <p><em>DÃ¢y ná»‘i</em></p>
</div>

<div align="center">
    <img src="https://cdn.chipstack.vn/default/usb-type-c.jpg" alt="button-lcd-usb-type-c">
    <p><em>DÃ¢y USB Type C</em></p>
</div>

<div align="center">
    <img src="https://cdn.chipstack.vn/default/module-nguon-cho-breadboard-mb102-830.jpg" alt="module-nguon-cho-breadboard-mb102-830">
    <p><em>Module nguá»“n cho Breadboard MB102 830</em></p>
</div>

<div align="center">
    <img src="https://cdn.chipstack.vn/default/nguon-ac-dc-dieu-chinh-dien-ap-3-12v-3a-36w.jpg" alt="nguon-ac-dc-dieu-chinh-dien-ap-3-12v-3a-36w">
    <p><em>Nguá»“n AC-DC Ä‘iá»u chá»‰nh Ä‘iá»‡n Ã¡p 3-12V 3A 36W</em></p>
</div>

<div align="center">
    <img src="https://cdn.chipstack.vn/zerobase/servo/dong-co-servo-sg90-180-do.jpg" alt="dong-co-servo-sg90-180-do">
    <p><em>Äá»™ng cÆ¡ Servo SG90 180 Ä‘á»™</em></p>
</div>

<div align="center">
    <img src="https://cdn.chipstack.vn/zerobase/potentiometer/potentiometer.jpg" alt="potentiometer">
    <p><em>Biáº¿n trá»Ÿ 10kÎ©</em></p>
</div>

## NguyÃªn lÃ½ hoáº¡t Ä‘á»™ng

?> Äá»ƒ Ä‘iá»u khiá»ƒn Ä‘á»™ng cÆ¡ Servo, báº¡n cáº§n cung cáº¥p cho nÃ³ má»™t tÃ­n hiá»‡u PWM (Pulse Width Modulation) vá»›i táº§n sá»‘ 50Hz. TÃ­n hiá»‡u nÃ y sáº½ xÃ¡c Ä‘á»‹nh vá»‹ trÃ­ cá»§a Ä‘á»™ng cÆ¡ Servo.

?> Biáº¿n trá»Ÿ sáº½ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ Ä‘iá»u chá»‰nh Ä‘á»™ rá»™ng cá»§a xung PWM, tá»« Ä‘Ã³ Ä‘iá»u khiá»ƒn vá»‹ trÃ­ cá»§a Ä‘á»™ng cÆ¡ Servo.

## SÆ¡ Ä‘á»“ káº¿t ná»‘i

![zerobase-potentiometer-servo-pins](https://cdn.chipstack.vn/zerobase/servo/zerobase-potentiometer-servo-pins.png)

Sá»­ dá»¥ng chÃ¢n A0 Ä‘á»ƒ káº¿t ná»‘i vá»›i chÃ¢n giá»¯a cá»§a biáº¿n trá»Ÿ, má»™t chÃ¢n cá»§a biáº¿n trá»Ÿ ná»‘i vá»›i nguá»“n 5V vÃ  chÃ¢n cÃ²n láº¡i ná»‘i vá»›i GND cá»§a board Zerobase.

ChÃ¢n D19 (SCL) káº¿t ná»‘i Ä‘áº¿n chÃ¢n mÃ u cam cá»§a servo. ChÃ¢n GND (mÃ u Ä‘en) cá»§a servo ná»‘i vá»›i GND cá»§a board Zerobase vÃ  nguá»“n. chÃ¢n VCC (mÃ u Ä‘á») cá»§a servo ná»‘i vá»›i nguá»“n 5V vÃ  nguá»“n.

![potentiometer-servo-schematic](https://cdn.chipstack.vn/zerobase/servo/potentiometer-servo-schematic.png)

![potentiometer-servo-circuit](https://cdn.chipstack.vn/zerobase/servo/potentiometer-servo-circuit.jpg)

!> **Ngáº¯t nguá»“n trÆ°á»›c khi náº¡p code**: TrÆ°á»›c khi cáº¯m dÃ¢y USB vÃ o Ä‘á»ƒ náº¡p code vÃ o board Zerobase, báº¡n cáº§n ngáº¯t nguá»“n cáº¥p 5V ra khá»i board Ä‘á»ƒ trÃ¡nh lÃ m há»ng board. Báº¡n cÃ³ thá»ƒ ngáº¯t nguá»“n báº±ng cÃ¡ch rÃºt dÃ¢y nguá»“n hoáº·c thÃ¡o module nguá»“n ra khá»i breadboard. Sau khi náº¡p code xong, báº¡n cÃ³ thá»ƒ cáº¥p nguá»“n láº¡i cho board Zerobase vÃ  cháº¡y code bÃ¬nh thÆ°á»ng.

!> **KhÃ´ng dÃ¹ng nguá»“n 5V tá»« Zerobase cho Ä‘á»™ng cÆ¡**: Tuyá»‡t Ä‘á»‘i khÃ´ng ná»‘i 5V trá»±c tiáº¿p cá»§a board Zerobase vÃ o Ä‘á»™ng cÆ¡ DC, vÃ¬ Ä‘á»™ng cÆ¡ DC cÃ³ thá»ƒ tiÃªu tá»‘n dÃ²ng Ä‘iá»‡n lá»›n hÆ¡n má»©c cho phÃ©p cá»§a board Zerobase, dáº«n Ä‘áº¿n há»ng board.

!> **Module nguá»“n MB102 830 á»Ÿ cháº¿ Ä‘á»™ 5V**: Báº¡n cáº§n Ä‘áº£m báº£o module nguá»“n MB102 830 Ä‘ang á»Ÿ cháº¿ Ä‘á»™ 5V báº±ng cÃ¡ch Ä‘iá»u chá»‰nh cÃ´ng táº¯c trÃªn module nguá»“n sang vá»‹ trÃ­ 5V.


## Code
```cpp
#include "SimpleServo.h"  // ThÆ° viá»‡n SimpleServo giÃºp Ä‘iá»u khiá»ƒn servo dá»… dÃ ng

const int servoPin = 19;  // Pin 19 Ä‘Æ°á»£c káº¿t ná»‘i vá»›i servo
const int potPin = A0;    // Pin A0 Ä‘Æ°á»£c káº¿t ná»‘i vá»›i Ä‘iá»‡n trá»Ÿ Ä‘iá»u chá»‰nh (potentiometer)
int potValue = 0;         // Biáº¿n lÆ°u giÃ¡ trá»‹ tá»« Ä‘iá»‡n trá»Ÿ Ä‘iá»u chá»‰nh
int angle = 0;            // Biáº¿n lÆ°u gÃ³c quay cá»§a servo
SimpleServo servo(servoPin);  // Khá»Ÿi táº¡o Ä‘á»‘i tÆ°á»£ng servo vá»›i pin 19

void setup() {
  servo.attach();  // Káº¿t ná»‘i servo vá»›i pin Ä‘Ã£ chá»‰ Ä‘á»‹nh (pin 19)
}

void loop() {
  potValue = analogRead(potPin);           // Äá»c giÃ¡ trá»‹ tá»« Ä‘iá»‡n trá»Ÿ Ä‘iá»u chá»‰nh
  angle = map(potValue, 0, 1023, 0, 180);  // Chuyá»ƒn Ä‘á»•i giÃ¡ trá»‹ Ä‘á»c Ä‘Æ°á»£c tá»« 0-1023 thÃ nh gÃ³c tá»« 0-180 Ä‘á»™
  servo.write(angle);                      // Äiá»u khiá»ƒn servo quay Ä‘áº¿n gÃ³c Ä‘Ã£ chuyá»ƒn Ä‘á»•i
  delay(15);                               // Chá» 15ms Ä‘á»ƒ servo cÃ³ thá»i gian di chuyá»ƒn Ä‘áº¿n vá»‹ trÃ­
}
```

Copy Ä‘oáº¡n code trÃªn vÃ  dÃ¡n vÃ o Arduino IDE, káº¿t quáº£ sáº½ Ä‘Æ°á»£c nhÆ° hÃ¬nh bÃªn dÆ°á»›i.

![potentiometer-servo-code](https://cdn.chipstack.vn/zerobase/servo/potentiometer-servo-code.png "potentiometer-servo-code")

### BiÃªn dá»‹ch

Nháº¥n vÃ o biá»ƒu tÆ°á»£ng Verify Ä‘á»ƒ biÃªn dá»‹ch code.

![verify-code](https://cdn.chipstack.vn/default/verify-code.png "verify-code]")

### Thá»±c hiá»‡n náº¡p code

Cuá»‘i cÃ¹ng báº¡n thá»±c hiá»‡n náº¡p code vÃ o board Zerobase. Náº¿u chÆ°a biáº¿t cÃ¡ch náº¡p code cho Zerobase, báº¡n cÃ³ thá»ƒ tham kháº£o [táº¡i Ä‘Ã¢y](https://zerobase.chipstack.vn/#/vi/zerobase/quickstart).

Náº¿u muá»‘n Ä‘iá»u khiá»ƒn Ä‘á»™ng cÆ¡ á»Ÿ chÃ¢n khÃ¡c, hoáº·c Ä‘á»c giÃ¡ trá»‹ biáº¿n trá»Ÿ tá»« chÃ¢n khÃ¡c, báº¡n cÃ³ thá»ƒ thay Ä‘á»•i giÃ¡ trá»‹ cá»§a biáº¿n `servoPin` hoáº·c `potPin` thÃ nh chÃ¢n báº¡n muá»‘n Ä‘iá»u khiá»ƒn sau Ä‘Ã³ káº¿t ná»‘i servo vÃ  biáº¿n trá»Ÿ vá»›i chÃ¢n Ä‘Ã³.

```cpp
const int servoPin = 19;  // Pin 19 Ä‘Æ°á»£c káº¿t ná»‘i vá»›i servo
const int potPin = A0;    // Pin A0 Ä‘Æ°á»£c káº¿t ná»‘i vá»›i Ä‘iá»‡n trá»Ÿ Ä‘iá»u chá»‰nh (potentiometer)
```

### Giáº£i thÃ­ch code

Khai bÃ¡o chÃ¢n káº¿t ná»‘i servo vÃ  biáº¿n trá»Ÿ.
```cpp
const int servoPin = 19;  // Pin 19 Ä‘Æ°á»£c káº¿t ná»‘i vá»›i servo
const int potPin = A0;    // Pin A0 Ä‘Æ°á»£c káº¿t ná»‘i vá»›i Ä‘iá»‡n trá»Ÿ Ä‘iá»u chá»‰nh (potentiometer)
```
Khá»Ÿi táº¡o biáº¿n lÆ°u giÃ¡ trá»‹ tá»« biáº¿n trá»Ÿ vÃ  gÃ³c quay cá»§a servo.
```cpp
int potValue = 0;         // Biáº¿n lÆ°u giÃ¡ trá»‹ tá»« Ä‘iá»‡n trá»Ÿ Ä‘iá»u chá»‰nh
int angle = 0;            // Biáº¿n lÆ°u gÃ³c quay cá»§a servo
```

Khá»Ÿi táº¡o Ä‘á»‘i tÆ°á»£ng servo vá»›i pin 19.
```cpp
SimpleServo servo(servoPin);  // Khá»Ÿi táº¡o Ä‘á»‘i tÆ°á»£ng servo vá»›i pin 19
```

Káº¿t ná»‘i servo vá»›i pin Ä‘Ã£ chá»‰ Ä‘á»‹nh (pin 19).
```cpp
servo.attach();  // Káº¿t ná»‘i servo vá»›i pin Ä‘Ã£ chá»‰ Ä‘á»‹nh (pin 19)
```

Äá»c giÃ¡ trá»‹ tá»« biáº¿n trá»Ÿ vÃ  chuyá»ƒn Ä‘á»•i giÃ¡ trá»‹ Ä‘á»c Ä‘Æ°á»£c tá»« 0-1023 thÃ nh gÃ³c tá»« 0-180 Ä‘á»™.
```cpp
potValue = analogRead(potPin);           // Äá»c giÃ¡ trá»‹ tá»« Ä‘iá»‡n trá»Ÿ Ä‘iá»u chá»‰nh
angle = map(potValue, 0, 1023, 0, 180);  // Chuyá»ƒn Ä‘á»•i giÃ¡ trá»‹ Ä‘á»c Ä‘Æ°á»£c tá»« 0-1023 thÃ nh gÃ³c tá»« 0-180 Ä‘á»™
```

Äiá»u khiá»ƒn servo quay Ä‘áº¿n gÃ³c Ä‘Ã£ chuyá»ƒn Ä‘á»•i.
```cpp
servo.write(angle);                      // Äiá»u khiá»ƒn servo quay Ä‘áº¿n gÃ³c Ä‘Ã£ chuyá»ƒn Ä‘á»•i
```

Chá» 15ms Ä‘á»ƒ servo cÃ³ thá»i gian di chuyá»ƒn Ä‘áº¿n vá»‹ trÃ­.
```cpp
delay(15);                               // Chá» 15ms Ä‘á»ƒ servo cÃ³ thá»i gian di chuyá»ƒn Ä‘áº¿n vá»‹ trÃ­
```

## Káº¿t quáº£

?> Khi báº¡n xoay biáº¿n trá»Ÿ, Ä‘á»™ng cÆ¡ Servo sáº½ quay theo gÃ³c mÃ  báº¡n Ä‘iá»u chá»‰nh. Náº¿u báº¡n xoay biáº¿n trá»Ÿ tá»« 0 Ä‘áº¿n 180 Ä‘á»™, Ä‘á»™ng cÆ¡ Servo sáº½ quay tá»« vá»‹ trÃ­ 0 Ä‘á»™ Ä‘áº¿n 180 Ä‘á»™ tÆ°Æ¡ng á»©ng.

<div align="center">
    <img src="https://cdn.chipstack.vn/zerobase/servo/potentiometer-servo-result.gif" alt="potentiometer-servo-result">
    <p><em>Káº¿t quáº£</em></p>
</div>

## Káº¿t luáº­n vÃ  hÆ°á»›ng phÃ¡t triá»ƒn

BÃ i viáº¿t Ä‘Ã£ hÆ°á»›ng dáº«n cÃ¡ch sá»­ dá»¥ng biáº¿n trá»Ÿ Ä‘á»ƒ Ä‘iá»u chá»‰nh gÃ³c quay cá»§a Ä‘á»™ng cÆ¡ Servo vá»›i vi Ä‘iá»u khiá»ƒn Zerobase, thÃ´ng qua viá»‡c Ä‘á»c tÃ­n hiá»‡u tá»« biáº¿n trá»Ÿ vÃ  Ä‘iá»u khiá»ƒn gÃ³c quay cá»§a Ä‘á»™ng cÆ¡ Servo. ÄÃ¢y lÃ  má»™t á»©ng dá»¥ng cÆ¡ báº£n nhÆ°ng ráº¥t há»¯u Ã­ch trong Ä‘iá»u khiá»ƒn Ä‘iá»‡n tá»­.

Äá»ƒ phÃ¡t triá»ƒn thÃªm tá»« bÃ i há»c nÃ y, báº¡n cÃ³ thá»ƒ thá»­ cÃ¡c Ã½ tÆ°á»Ÿng sau:

- Báº¡n cÃ³ thá»ƒ thá»­ thÃªm cÃ¡c cáº£m biáº¿n khÃ¡c nhÆ° cáº£m biáº¿n khoáº£ng cÃ¡ch (ultrasonic sensor) Ä‘á»ƒ Ä‘iá»u khiá»ƒn gÃ³c quay cá»§a Servo theo khoáº£ng cÃ¡ch tá»« váº­t thá»ƒ.
- PhÃ¡t triá»ƒn há»‡ thá»‘ng Ä‘iá»u khiá»ƒn Servo tá»« xa qua Bluetooth hoáº·c Wi-Fi, má»Ÿ rá»™ng á»©ng dá»¥ng trong cÃ¡c thiáº¿t bá»‹ IoT.
- Äiá»u khiá»ƒn nhiá»u Ä‘á»™ng cÆ¡ Servo cÃ¹ng lÃºc báº±ng biáº¿n trá»Ÿ.

**ChÃºc báº¡n thÃ nh cÃ´ng!**

[ğŸ  TRá» Vá»€ TRANG Tá»”NG Há»¢P CÃC VÃ Dá»¤](vi/zerobase/examples.md)