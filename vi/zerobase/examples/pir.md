<br>
<br>
<br>

# Sá»­ Dá»¥ng Cáº£m Biáº¿n PIR Vá»›i Zerobase

![pir](https://cdn.chipstack.vn/zerobase/pir/pir.png "pir")

## Tá»•ng quan

?> BÃ i viáº¿t nÃ y hÆ°á»›ng dáº«n cÃ¡ch sá»­ dá»¥ng cáº£m biáº¿n PIR vá»›i board Zerobase, giÃºp phÃ¡t hiá»‡n chuyá»ƒn Ä‘á»™ng vÃ  Ä‘iá»u khiá»ƒn LED.

## Chuáº©n Bá»‹

| Linh kiá»‡n |  Link mua |
| --- | --- |
| Board Zerobase | [Mua ngay](https://chipstack.vn/san-pham/zerobase/) |
| Cáº£m biáº¿n PIR | [Mua ngay](https://chipstack.vn/san-pham/cam-bien-pir/) |
| Äiá»‡n trá»Ÿ 330Î© | [Mua ngay](https://chipstack.vn/san-pham/dien-tro-1-4w-1/) |
| LED | [Mua ngay](https://chipstack.vn/san-pham/led-5mm-vo-mau/) |
| DÃ¢y ná»‘i | [Mua ngay](https://chipstack.vn/san-pham/day-jumper-duc-duc/) |
| Breadboard | [Mua ngay](https://chipstack.vn/san-pham/breadboard-830-lo/) |

<br>

<div align="center">
    <img src="../../../_media/zerobase-image.png" alt="zerobase">
    <p><em>Board Zerobase</em></p>
</div>

<br>

<div align="center">
    <img src="https://cdn.chipstack.vn/zerobase/pir/pir-image.png" alt="pir-image">
    <p><em>Cáº£m biáº¿n PIR</em></p>
</div>

<br>

<div align="center">
    <img src="https://cdn.chipstack.vn/default/dien-tro-330-ohm.png" alt="dien-tro-330-ohm">
    <p><em>Äiá»‡n trá»Ÿ 330Î©</em></p>
</div>

<br>

<div align="center">
    <img src="https://cdn.chipstack.vn/default/led-do.png" alt="led-do">
    <p><em>LED</em></p>
</div>

<br>

<div align="center">
    <img src="https://cdn.chipstack.vn/default/jumper-wire.png" alt="jumper-wire">
    <p><em>DÃ¢y ná»‘i</em></p>
</div>

<br>

<div align="center">
    <img src="https://cdn.chipstack.vn/default/breadboard.png" alt="breadboard">
    <p><em>Breadboard</em></p>
</div>


## NguyÃªn LÃ½ Hoáº¡t Äá»™ng

<div align="center">
    <img src="https://cdn.chipstack.vn/zerobase/pir/pir-pinout.png" alt="pir-pinout">
    <p><em>SÆ¡ Ä‘á»“ chÃ¢n PIR</em></p>
</div>
<br>

<div align="center">
    <img src="https://cdn.chipstack.vn/zerobase/pir/pir-jumper-low.jpg" alt="pir-jumper-low">
    <p><em>Kiá»ƒu káº¿t ná»‘i jumper Ä‘á»ƒ xuáº¥t tÃ­n hiá»‡u má»©c tháº¥p</em></p>
</div>
<br>

<div align="center">
    <img src="https://cdn.chipstack.vn/zerobase/pir/pir-jumper-high.jpg" alt="pir-jumper-high">
    <p><em>Kiá»ƒu káº¿t ná»‘i jumper Ä‘á»ƒ xuáº¥t tÃ­n hiá»‡u má»©c cao</em></p>
</div>
<br>

?> Khi phÃ¡t hiá»‡n chuyá»ƒn Ä‘á»™ng, PIR cÃ³ thá»ƒ xuáº¥t tÃ­n hiá»‡u má»©c cao hoáº·c má»©c tháº¥p tuá»³ vÃ o kiá»ƒu káº¿t ná»‘i jumper. HÆ°á»›ng dáº«n nÃ y káº¿t ná»‘i jumper cá»§a cáº£m biáº¿n PIR Ä‘á»ƒ tÃ­n hiá»‡u á»Ÿ má»©c cao khi cÃ³ chuyá»ƒn Ä‘á»™ng. Khi cÃ³ chuyá»ƒn Ä‘á»™ng, cáº£m biáº¿n sáº½ phÃ¡t ra tÃ­n hiá»‡u á»Ÿ má»©c cao (1), Ä‘iá»u nÃ y sáº½ báº­t LED. Náº¿u khÃ´ng cÃ³ chuyá»ƒn Ä‘á»™ng, cáº£m biáº¿n sáº½ phÃ¡t ra tÃ­n hiá»‡u á»Ÿ má»©c tháº¥p (0), LED sáº½ táº¯t.

> Xem thÃªm vá» LED [táº¡i Ä‘Ã¢y](https://chipstack.vn/uncategorized/diot-phat-quang-la-gi-nguyen-ly-hoat-dong-va-ung-dung-tiet-kiem-nang-luong/).

## SÆ¡ Äá»“ Káº¿t Ná»‘i

![pir-zerboase-pins](../../../_media/pir-zerobase-pins.png "pir-zerboase-pins")

Sá»­ dá»¥ng chÃ¢n D3 Ä‘á»ƒ káº¿t ná»‘i vá»›i Ä‘iá»‡n trá»Ÿ 330ohm ná»‘i tiáº¿p vá»›i cá»±c Anode (+) cá»§a LED vÃ  GND Ä‘á»ƒ káº¿t ná»‘i vá»›i cá»±c Cathode (-) cá»§a LED.

Sá»­ dá»¥ng chÃ¢n 5V Ä‘á»ƒ káº¿t ná»‘i vá»›i chÃ¢n VCC cáº£m biáº¿n PIR, GND Ä‘á»ƒ káº¿t ná»‘i vá»›i chÃ¢n GND cá»§a cáº£m biáº¿n, chÃ¢n A0 (D14) Ä‘á»ƒ káº¿t ná»‘i vá»›i chÃ¢n OUT cáº£m biáº¿n PIR

![pir-sensor-zerobase-schematic](https://cdn.chipstack.vn/zerobase/pir/pir-sensor-zerobase-schematic.png "pir-sensor-zerobase-schematic")

![pir-mat-truoc](https://cdn.chipstack.vn/zerobase/pir/pir-mat-truoc.png "pir-mat-truoc")

![pir](https://cdn.chipstack.vn/zerobase/pir/pir.png "pir")


## Code

```cpp
// Khai bÃ¡o chÃ¢n LED Ä‘Æ°á»£c káº¿t ná»‘i táº¡i chÃ¢n sá»‘ 3
const int led = 3;

// Khai bÃ¡o chÃ¢n cáº£m biáº¿n PIR (Passive Infrared Sensor) Ä‘Æ°á»£c káº¿t ná»‘i táº¡i chÃ¢n sá»‘ 14
const int pir = 14;

void setup() {
  // Cáº¥u hÃ¬nh chÃ¢n cáº£m biáº¿n PIR lÃ  INPUT Ä‘á»ƒ nháº­n tÃ­n hiá»‡u phÃ¡t hiá»‡n chuyá»ƒn Ä‘á»™ng
  pinMode(pir, INPUT);

  // Cáº¥u hÃ¬nh chÃ¢n LED lÃ  OUTPUT Ä‘á»ƒ Ä‘iá»u khiá»ƒn Ä‘Ã¨n
  pinMode(led, OUTPUT);
}

void loop() {
  // Kiá»ƒm tra xem cáº£m biáº¿n PIR cÃ³ phÃ¡t hiá»‡n chuyá»ƒn Ä‘á»™ng khÃ´ng
  if (digitalRead(pir) == HIGH) {
    digitalWrite(led, HIGH);  // Báº­t Ä‘Ã¨n LED náº¿u cÃ³ chuyá»ƒn Ä‘á»™ng
  }

  // Ngay láº­p tá»©c táº¯t LED, khiáº¿n LED nhÃ¡y nhanh thay vÃ¬ duy trÃ¬ sÃ¡ng chá»‰ khi cÃ³ chuyá»ƒn Ä‘á»™ng
  digitalWrite(led, LOW);
}
```

Copy Ä‘oáº¡n code trÃªn vÃ  dÃ¡n vÃ o Arduino IDE, káº¿t quáº£ sáº½ Ä‘Æ°á»£c nhÆ° hÃ¬nh bÃªn dÆ°á»›i.

![pir-zerobase-code](https://cdn.chipstack.vn/zerobase/pir/pir-zerobase-code.png "pir-zerobase-code]")

### BiÃªn dá»‹ch

Nháº¥n vÃ o biá»ƒu tÆ°á»£ng **Verify** Ä‘á»ƒ biÃªn dá»‹ch code.

![verify-code](https://cdn.chipstack.vn/default/verify-code.png "verify-code]")

### Thá»±c hiá»‡n náº¡p code

Cuá»‘i cÃ¹ng báº¡n thá»±c hiá»‡n náº¡p code vÃ o board Zerobase. Náº¿u chÆ°a biáº¿t cÃ¡ch náº¡p code cho Zerobase, báº¡n cÃ³ thá»ƒ tham kháº£o [táº¡i Ä‘Ã¢y](https://zerobase.chipstack.vn/#/vi/zerobase/quickstart).

Náº¿u muá»‘n thay Ä‘á»•i chÃ¢n káº¿t ná»‘i, báº¡n chá»‰ cáº§n sá»­a láº¡i giÃ¡ trá»‹ biáº¿n `led` hoáº·c `pir` trong code sau Ä‘Ã³ káº¿t ná»‘i Ä‘Ã¨n LED vÃ  cáº£m biáº¿n PIR vá»›i chÃ¢n tÆ°Æ¡ng á»©ng.

```cpp
const int led = 3; // Thay Ä‘á»•i chÃ¢n Ä‘Ã¨n LED
const int pir = 14; // Thay Ä‘á»•i chÃ¢n cáº£m biáº¿n PIR
```


### Giáº£i ThÃ­ch Code

```cpp
const int led = 3;
const int pir = 14;
```

Khai bÃ¡o biáº¿n `led` lÃ  chÃ¢n sá»‘ 3 káº¿t ná»‘i vá»›i Ä‘Ã¨n LED vÃ  biáº¿n `pir` lÃ  chÃ¢n sá»‘ 14 káº¿t ná»‘i vá»›i chÃ¢n OUT cáº£m biáº¿n PIR.

```cpp
  pinMode(pir, INPUT);
  pinMode(led, OUTPUT);
```

Cáº¥u hÃ¬nh chÃ¢n `pir` lÃ  INPUT Ä‘á»ƒ nháº­n tÃ­n hiá»‡u phÃ¡t hiá»‡n chuyá»ƒn Ä‘á»™ng vÃ  chÃ¢n `led` lÃ  OUTPUT Ä‘á»ƒ Ä‘iá»u khiá»ƒn Ä‘Ã¨n LED.

```cpp
  if (digitalRead(pir) == HIGH) {
    digitalWrite(led, HIGH);
  }
```

Trong hÃ m `loop()`, chÃºng ta kiá»ƒm tra xem cáº£m biáº¿n PIR cÃ³ phÃ¡t hiá»‡n chuyá»ƒn Ä‘á»™ng khÃ´ng. Náº¿u cÃ³ chuyá»ƒn Ä‘á»™ng (má»©c cao hoáº·c 1), Ä‘Ã¨n LED sáº½ báº­t.

```cpp
  digitalWrite(led, LOW);
```

Ngay láº­p tá»©c táº¯t LED, khiáº¿n LED nhÃ¡y nhanh thay vÃ¬ duy trÃ¬ sÃ¡ng chá»‰ khi cÃ³ chuyá»ƒn Ä‘á»™ng.

## Káº¿t quáº£

?> Khi cÃ³ chuyá»ƒn Ä‘á»™ng, Ä‘Ã¨n LED sáº½ báº­t. Náº¿u khÃ´ng cÃ³ chuyá»ƒn Ä‘á»™ng, Ä‘Ã¨n LED sáº½ táº¯t.

<p align="center">
  <img src="https://cdn.chipstack.vn/zerobase/pir/pir-zerobase-result.gif" alt="pir-zerobase-result">
</p>

## Káº¿t luáº­n vÃ  HÆ°á»›ng phÃ¡t triá»ƒn

BÃ i viáº¿t Ä‘Ã£ hÆ°á»›ng dáº«n cÃ¡ch sá»­ dá»¥ng cáº£m biáº¿n PIR Ä‘á»ƒ phÃ¡t hiá»‡n chuyá»ƒn Ä‘á»™ng vÃ  Ä‘iá»u khiá»ƒn Ä‘Ã¨n LED trÃªn board Zerobase. ÄÃ¢y lÃ  bÆ°á»›c khá»Ÿi Ä‘áº§u giÃºp báº¡n lÃ m quen vá»›i láº­p trÃ¬nh vi Ä‘iá»u khiá»ƒn vÃ  cÃ¡ch Ä‘iá»u khiá»ƒn thiáº¿t bá»‹ ngoáº¡i vi.

Äá»ƒ phÃ¡t triá»ƒn thÃªm tá»« bÃ i há»c nÃ y, báº¡n cÃ³ thá»ƒ thá»­ cÃ¡c Ã½ tÆ°á»Ÿng sau:

- **Äiá»u khiá»ƒn cáº£m biáº¿n PIR báº±ng nÃºt nháº¥n:** Sá»­ dá»¥ng nÃºt nháº¥n Ä‘á»ƒ báº­t/táº¯t cáº£m biáº¿n PIR hoáº·c thay Ä‘á»•i cÃ¡ch phÃ¡t hiá»‡n chuyá»ƒn Ä‘á»™ng.
- **Äiá»u khiá»ƒn LED RGB báº±ng cáº£m biáº¿n PIR:** Sá»­ dá»¥ng cáº£m biáº¿n PIR Ä‘á»ƒ Ä‘iá»u khiá»ƒn Ä‘á»•i mÃ u LED RGB.
- **Gá»­i thÃ´ng bÃ¡o qua Telegram khi cÃ³ chuyá»ƒn Ä‘á»™ng:** Sá»­ dá»¥ng cáº£m biáº¿n PIR Ä‘á»ƒ phÃ¡t hiá»‡n chuyá»ƒn Ä‘á»™ng vÃ  gá»­i thÃ´ng bÃ¡o qua Telegram.
- **Sá»­ dá»¥ng cÃ²i bÃ¡o khi cÃ³ chuyá»ƒn Ä‘á»™ng:** Sá»­ dá»¥ng cáº£m biáº¿n PIR Ä‘á»ƒ phÃ¡t hiá»‡n chuyá»ƒn Ä‘á»™ng vÃ  kÃ­ch hoáº¡t cÃ²i bÃ¡o.

Vá»›i nhá»¯ng Ã½ tÆ°á»Ÿng trÃªn, báº¡n sáº½ cÃ³ cÆ¡ há»™i thá»±c hÃ nh vÃ  nÃ¢ng cao ká»¹ nÄƒng láº­p trÃ¬nh vi Ä‘iá»u khiá»ƒn.

**ChÃºc báº¡n thÃ nh cÃ´ng!**

[ğŸ  TRá» Vá»€ TRANG Tá»”NG Há»¢P CÃC VÃ Dá»¤](vi/zerobase/examples.md)