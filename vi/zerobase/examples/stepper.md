<br>
<br>
<br>

# Äiá»u khiá»ƒn Ä‘á»™ng cÆ¡ bÆ°á»›c 28BYJ-48

![stepper-circuit](https://cdn.chipstack.vn/zerobase/stepper/stepper-circuit.png)

## Tá»•ng quan

?> BÃ i viáº¿t nÃ y sáº½ hÆ°á»›ng dáº«n báº¡n cÃ¡ch Ä‘iá»u khiá»ƒn Ä‘á»™ng cÆ¡ bÆ°á»›c 28BYJ-48 vá»›i Zerobase. Äá»™ng cÆ¡ bÆ°á»›c 28BYJ-48 lÃ  má»™t loáº¡i Ä‘á»™ng cÆ¡ bÆ°á»›c phá»• biáº¿n, thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng trong cÃ¡c á»©ng dá»¥ng nhÆ° mÃ¡y in 3D, robot vÃ  cÃ¡c thiáº¿t bá»‹ tá»± Ä‘á»™ng hÃ³a khÃ¡c.

## Chuáº©n bá»‹

| Linh kiá»‡n | Link mua |
| --- | --- |
| Board Zerobase |[Mua ngay](https://chipstack.vn/san-pham/zerobase/) |
| DÃ¢y jumper Äá»±c â€“ Äá»±c | [Mua ngay](https://chipstack.vn/san-pham/day-jumper-duc-duc/) |
| DÃ¢y USB Type C |[Mua ngay](https://chipstack.vn/san-pham/day-usb-type-c-1m/) |
| Breadboard |[Mua ngay](https://chipstack.vn/san-pham/breadboard-830-lo/) |
| Äá»™ng cÆ¡ bÆ°á»›c 28BYJ-48 |[Mua ngay](https://chipstack.vn/san-pham/dong-co-buoc-28byj48/) |
| Module Ä‘iá»u khiá»ƒn Ä‘á»™ng cÆ¡ bÆ°á»›c ULN2003 | [Mua ngay](https://chipstack.vn/san-pham/module-dieu-khien-dong-co-buoc-uln2003/) |

<div align="center">
    <img src="https://cdn.chipstack.vn/default/zerobase-overview.png" alt="zerobase">
    <p><em>Board Zerobase</em></p>
</div>

<div align="center">
    <img src="https://cdn.chipstack.vn/default/breadboard.png" alt="breadboard">
    <p><em>Breadboard</em></p>
</div>

<div align="center">
    <img src="https://cdn.chipstack.vn/default/jumper-wire.png" alt="jumper-wire">
    <p><em>DÃ¢y ná»‘i</em></p>
</div>

<div align="center">
    <img src="https://cdn.chipstack.vn/default/usb-type-c.jpg" alt="button-lcd-usb-type-c">
    <p><em>DÃ¢y USB Type C</em></p>
</div>

<div align="center">
    <img src="https://cdn.chipstack.vn/zerobase/stepper/28byj-48.png" alt="28byj-48">
    <p><em>Äá»™ng cÆ¡ bÆ°á»›c 28BYJ-48</em></p>
</div>

<div align="center">
    <img src="https://cdn.chipstack.vn/zerobase/stepper/uln2003.png" alt="uln2003">
    <p><em>Module Ä‘iá»u khiá»ƒn Ä‘á»™ng cÆ¡ bÆ°á»›c ULN2003</em></p>
</div>

## NguyÃªn lÃ½ hoáº¡t Ä‘á»™ng

?> Äá»™ng cÆ¡ bÆ°á»›c 28BYJ-48 lÃ  má»™t loáº¡i Ä‘á»™ng cÆ¡ bÆ°á»›c cÃ³ 4 dÃ¢y Ä‘iá»u khiá»ƒn. Äá»ƒ Ä‘iá»u khiá»ƒn Ä‘á»™ng cÆ¡ nÃ y, chÃºng ta cáº§n sá»­ dá»¥ng má»™t module Ä‘iá»u khiá»ƒn Ä‘á»™ng cÆ¡ bÆ°á»›c, thÆ°á»ng lÃ  ULN2003. Module nÃ y sáº½ nháº­n tÃ­n hiá»‡u tá»« Zerobase vÃ  Ä‘iá»u khiá»ƒn Ä‘á»™ng cÆ¡ bÆ°á»›c quay theo chiá»u kim Ä‘á»“ng há»“ hoáº·c ngÆ°á»£c chiá»u kim Ä‘á»“ng há»“.

?> Äá»™ng cÆ¡ bÆ°á»›c 28BYJ-48 cÃ³ thá»ƒ quay 360 Ä‘á»™ vá»›i 2048 bÆ°á»›c. Má»—i bÆ°á»›c tÆ°Æ¡ng á»©ng vá»›i má»™t gÃ³c quay lÃ  0.175 Ä‘á»™. Äá»ƒ Ä‘iá»u khiá»ƒn Ä‘á»™ng cÆ¡ quay má»™t gÃ³c nháº¥t Ä‘á»‹nh, chÃºng ta cáº§n gá»­i tÃ­n hiá»‡u Ä‘iá»u khiá»ƒn Ä‘áº¿n module ULN2003 theo thá»© tá»± nháº¥t Ä‘á»‹nh.

?> ChÃºng ta sáº½ sá»­ dá»¥ng thÆ° viá»‡n `Stepper` trong Arduino Ä‘á»ƒ Ä‘iá»u khiá»ƒn Ä‘á»™ng cÆ¡ bÆ°á»›c 28BYJ-48. ThÆ° viá»‡n nÃ y cung cáº¥p cÃ¡c hÃ m Ä‘á»ƒ Ä‘iá»u khiá»ƒn Ä‘á»™ng cÆ¡ bÆ°á»›c má»™t cÃ¡ch dá»… dÃ ng vÃ  hiá»‡u quáº£.

?> ChÃºng ta sáº½ sá»­ dá»¥ng 4 chÃ¢n GPIO trÃªn Zerobase Ä‘á»ƒ Ä‘iá»u khiá»ƒn Ä‘á»™ng cÆ¡ bÆ°á»›c.

## SÆ¡ Ä‘á»“ káº¿t ná»‘i

![stepper-pins](https://cdn.chipstack.vn/zerobase/stepper/stepper-pins.png)

Sá»­ dá»¥ng chÃ¢n A0 ná»‘i vá»›i IN1, A1 ná»‘i vá»›i IN2, A2 ná»‘i vá»›i IN3, A3 ná»‘i vá»›i IN4 cá»§a module ULN2003. ChÃ¢n GND cá»§a module ULN2003 ná»‘i vá»›i chÃ¢n GND cá»§a Zerobase. ChÃ¢n VCC cá»§a module ULN2003 ná»‘i vá»›i chÃ¢n 5V cá»§a Zerobase.

![stepper-schematic](https://cdn.chipstack.vn/zerobase/stepper/stepper-schematic.png)

![stepper-circuit](https://cdn.chipstack.vn/zerobase/stepper/stepper-circuit.png)

## Code

```cpp
// Khai bÃ¡o thÆ° viá»‡n Ä‘iá»u khiá»ƒn motor bÆ°á»›c vá»›i driver ULN2003
#include <Stepper.h>

// Sá»‘ bÆ°á»›c cá»§a má»™t vÃ²ng quay (cá»§a 28BYJ-48 lÃ  khoáº£ng 2048 bÆ°á»›c/vÃ²ng)
const int stepsPerRevolution = 2048;

// Khá»Ÿi táº¡o Ä‘á»‘i tÆ°á»£ng Stepper
Stepper myStepper(stepsPerRevolution, A0, A2, A1, A3); 
// ChÃº Ã½ thá»© tá»± chÃ¢n: IN1->IN3->IN2->IN4 theo ULN2003 datasheet

void setup() {
  // Äáº·t tá»‘c Ä‘á»™ quay (rpm)
  myStepper.setSpeed(15); // 15 vÃ²ng/phÃºt
}

void loop() {
  // Quay má»™t vÃ²ng theo chiá»u kim Ä‘á»“ng há»“
  myStepper.step(stepsPerRevolution);
  delay(1000);

  // Quay má»™t vÃ²ng ngÆ°á»£c chiá»u kim Ä‘á»“ng há»“
  myStepper.step(-stepsPerRevolution);
  delay(1000);
}
```

Copy Ä‘oáº¡n code trÃªn vÃ  dÃ¡n vÃ o Arduino IDE, káº¿t quáº£ sáº½ Ä‘Æ°á»£c nhÆ° hÃ¬nh bÃªn dÆ°á»›i.

![stepper-code](https://cdn.chipstack.vn/zerobase/stepper/stepper-code.png)

### BiÃªn dá»‹ch

Nháº¥n vÃ o biá»ƒu tÆ°á»£ng Verify Ä‘á»ƒ biÃªn dá»‹ch code.

![verify-code](https://cdn.chipstack.vn/default/verify-code.png "verify-code]")

### Thá»±c hiá»‡n náº¡p code
Cuá»‘i cÃ¹ng báº¡n thá»±c hiá»‡n náº¡p code vÃ o board Zerobase. Náº¿u chÆ°a biáº¿t cÃ¡ch náº¡p code cho Zerobase, báº¡n cÃ³ thá»ƒ tham kháº£o [táº¡i Ä‘Ã¢y](https://zerobase.chipstack.vn/#/vi/zerobase/quickstart).

Náº¿u báº¡n muá»‘n Ä‘á»•i cÃ¡c chÃ¢n Ä‘iá»u khiá»ƒn Ä‘á»™ng cÆ¡, báº¡n cÃ³ thá»ƒ thay Ä‘á»•i cÃ¡c tham sá»‘ trong hÃ m khá»Ÿi táº¡o `Stepper` nhÆ° sau:

```cpp
Stepper myStepper(stepsPerRevolution, A0, A2, A1, A3); 
```
Thay Ä‘á»•i cÃ¡c chÃ¢n A0, A1, A2, A3 thÃ nh cÃ¡c chÃ¢n mÃ  báº¡n muá»‘n sá»­ dá»¥ng Ä‘á»ƒ Ä‘iá»u khiá»ƒn Ä‘á»™ng cÆ¡ bÆ°á»›c.

### Giáº£i thÃ­ch code

Khai bÃ¡o thÆ° viá»‡n `Stepper` Ä‘á»ƒ sá»­ dá»¥ng cÃ¡c hÃ m Ä‘iá»u khiá»ƒn Ä‘á»™ng cÆ¡ bÆ°á»›c.

```cpp
#include <Stepper.h>
```

Khai bÃ¡o sá»‘ bÆ°á»›c cá»§a má»™t vÃ²ng quay. Äá»‘i vá»›i Ä‘á»™ng cÆ¡ 28BYJ-48, sá»‘ bÆ°á»›c lÃ  2048.

```cpp
const int stepsPerRevolution = 2048;
```

Khá»Ÿi táº¡o Ä‘á»‘i tÆ°á»£ng `Stepper` vá»›i sá»‘ bÆ°á»›c vÃ  cÃ¡c chÃ¢n Ä‘iá»u khiá»ƒn Ä‘á»™ng cÆ¡. **ChÃº Ã½ thá»© tá»± chÃ¢n: IN1->IN3->IN2->IN4 theo ULN2003 datasheet.**

```cpp
Stepper myStepper(stepsPerRevolution, A0, A2, A1, A3); 
```

Trong hÃ m `setup()`, Ä‘áº·t tá»‘c Ä‘á»™ quay cá»§a Ä‘á»™ng cÆ¡. Tá»‘c Ä‘á»™ nÃ y Ä‘Æ°á»£c tÃ­nh báº±ng vÃ²ng/phÃºt (rpm).

```cpp
void setup() {
  myStepper.setSpeed(15); // 15 vÃ²ng/phÃºt
}
```

Trong hÃ m `loop()`, quay má»™t vÃ²ng (360 Ä‘á»™) theo chiá»u kim Ä‘á»“ng há»“ vÃ  sau Ä‘Ã³ quay má»™t vÃ²ng (360 Ä‘á»™) ngÆ°á»£c chiá»u kim Ä‘á»“ng há»“. Giá»¯a hai láº§n quay cÃ³ má»™t khoáº£ng thá»i gian delay 1 giÃ¢y.

```cpp
void loop() {
  myStepper.step(stepsPerRevolution); // Quay má»™t vÃ²ng theo chiá»u kim Ä‘á»“ng há»“
  delay(1000); // Delay 1 giÃ¢y

  myStepper.step(-stepsPerRevolution); // Quay má»™t vÃ²ng ngÆ°á»£c chiá»u kim Ä‘á»“ng há»“
  delay(1000); // Delay 1 giÃ¢y
}
```

## Káº¿t quáº£

?> Khi báº¡n náº¡p code thÃ nh cÃ´ng, Ä‘á»™ng cÆ¡ bÆ°á»›c 28BYJ-48 sáº½ quay má»™t vÃ²ng theo chiá»u kim Ä‘á»“ng há»“ vÃ  sau Ä‘Ã³ quay má»™t vÃ²ng ngÆ°á»£c chiá»u kim Ä‘á»“ng há»“. Báº¡n cÃ³ thá»ƒ thay Ä‘á»•i tá»‘c Ä‘á»™ quay báº±ng cÃ¡ch thay Ä‘á»•i giÃ¡ trá»‹ trong hÃ m `setSpeed()`.

<div align="center">
    <img src="https://cdn.chipstack.vn/zerobase/stepper/stepper-result.gif" alt="stepper-result">
    <p><em>Äá»™ng cÆ¡ bÆ°á»›c 28BYJ-48 quay theo chiá»u kim Ä‘á»“ng há»“ vÃ  ngÆ°á»£c chiá»u kim Ä‘á»“ng há»“</em></p>
</div>

## Káº¿t luáº­n vÃ  hÆ°á»›ng phÃ¡t triá»ƒn

BÃ i viáº¿t nÃ y Ä‘Ã£ hÆ°á»›ng dáº«n báº¡n cÃ¡ch Ä‘iá»u khiá»ƒn Ä‘á»™ng cÆ¡ bÆ°á»›c 28BYJ-48 vá»›i Zerobase. Báº¡n cÃ³ thá»ƒ Ã¡p dá»¥ng kiáº¿n thá»©c nÃ y Ä‘á»ƒ Ä‘iá»u khiá»ƒn cÃ¡c loáº¡i Ä‘á»™ng cÆ¡ bÆ°á»›c khÃ¡c hoáº·c káº¿t há»£p vá»›i cÃ¡c cáº£m biáº¿n vÃ  thiáº¿t bá»‹ khÃ¡c Ä‘á»ƒ táº¡o ra cÃ¡c á»©ng dá»¥ng tá»± Ä‘á»™ng hÃ³a thÃº vá»‹.

Äá»ƒ phÃ¡t triá»ƒn thÃªm tá»« bÃ i há»c nÃ y, báº¡n cÃ³ thá»ƒ thá»±c hiá»‡n cÃ¡c Ã½ tÆ°á»Ÿng sau:

- Sá»­ dá»¥ng nÃºt nháº¥n Ä‘á»ƒ Ä‘iá»u khiá»ƒn Ä‘á»™ng cÆ¡ bÆ°á»›c quay theo chiá»u kim Ä‘á»“ng há»“ hoáº·c ngÆ°á»£c chiá»u kim Ä‘á»“ng há»“.
- ThÃªm cáº£m biáº¿n Ä‘á»ƒ Ä‘iá»u khiá»ƒn Ä‘á»™ng cÆ¡ bÆ°á»›c quay Ä‘áº¿n má»™t vá»‹ trÃ­ nháº¥t Ä‘á»‹nh.
- Hiá»ƒn thá»‹ gÃ³c quay lÃªn mÃ n hÃ¬nh LCD.

**ChÃºc báº¡n thÃ nh cÃ´ng!**

[ğŸ  TRá» Vá»€ TRANG Tá»”NG Há»¢P CÃC VÃ Dá»¤](vi/zerobase/examples.md)









